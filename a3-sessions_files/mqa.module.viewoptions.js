MQA.Loader.registerCss("viewoptions",".viewOptionsWrapper{display:inline-block;vertical-align:top;}.ie9 .viewOptionsWrapper,.ie8 .viewOptionsWrapper,.ie7 .viewOptionsWrapper{_display:inline;}.ie6 .viewOptionsWrapper .maptoggle{.margin-right:-1px;}");MQA.withModule("controlbase",function(){var G=window.MQA,J=G.Util,K=G.EventUtil,H=K.EventCallback,A=K.observe,B=K.element,L=K.stopObserving,D=G.EventManager,M=D.addListener,I=D.removeListener;G.Loader.requireCss("controlbase");G.Loader.requireCss("viewoptions");var C=G.MAP_TYPE,E="['span#viewOptions.viewOptionsWrapper',[0,'span#mapView.maptoggle maptoggleLeft mapView',['span#mapText',[]],0,'span#satelliteView.maptoggle maptoggleRight satelliteView',['span#satelliteText',[]],0,'span#hybridView.belowToggle',['span',['input#hybridCheckbox',['@type','checkbox'],0,'strong#hybridText',[]]],0]]";function F(){var P=this,Q=J.html(E),R=Q.mapView,O=Q.satelliteView,N=H(P,"onDOMEvent");P.isToggle=true;P.elements=Q;P._eDOM=N;P.omnPrefix=(typeof SITECONFIG!="undefined"&&SITECONFIG.isOSM)?"MQOSM":"MQ10";P.id="viewoptions";Q.mapText.innerHTML=P.getMsg("Map","MAP");Q.satelliteText.innerHTML=P.getMsg("Satellite","SATELLITE");Q.hybridText.innerHTML=P.getMsg("ShowLabels","Show Labels");A(R,"mouseover",N);A(R,"mouseout",N);A(R,"click",N);A(O,"mouseover",N);A(O,"mouseout",N);A(O,"click",N);A(Q.hybridCheckbox,"click",N);A(Q.hybridText,"click",N);O.style.zIndex="100"}F.prototype=new G.Control();G.extend(F.prototype,{initialize:function(P){var O=this,N=O.elements.viewOptions;O.map=P;O.elem=N;M(O.map,"maptypechanged",O.update,O);O._setBackgrounds(N.children);O.update()},_setBackgrounds:function(P){try{for(var O=0;O<P.length;O++){var Q=P[O];if((J.hasClass(Q,"maptoggle")||J.hasClass(Q,"belowToggle"))&&O!=0){Q.style.backgroundImage="url('"+MQCDN+"images/sprite_map_controls.png')"}if(Q.children.length==1){Q.lastChild.style.backgroundImage="url('"+MQCDN+"images/sprite_map_controls.png')";Q.lastChild.style.zIndex="60"}}}catch(N){}},setMapType:function(P){var O=this,Q=O.map,N=Q.getMapType();if(N!==P){Q.setMapType(P);O.logOmniture(P)}},update:function(){var P=this.map.getMapType(),N=this.elements,Q="satelliteviewtoggleS",O="mapviewtoggleS";switch(P){case C.SAT:case C.HYB:J.addClass(N.satelliteView,Q);J.removeClass(N.mapView,O);break;default:J.addClass(N.mapView,O);J.removeClass(N.satelliteView,Q)}if(P===C.HYB){N.hybridCheckbox.checked=true;N.hybridView.style.display="block"}else{if(P===C.SAT){N.hybridCheckbox.checked=false;N.hybridView.style.display="block"}else{N.hybridView.style.display="none"}}},onDOMEvent:function(N){var O=this,S=B(N),R=(J.hasClass(S,"maptoggle"))?S:B(N).parentNode,Q=R.className.indexOf("satellite")>0?"satelliteviewtoggle":"mapviewtoggle",P=O.elements;switch(N.type){case"mouseover":J.addClass(R,Q+"Over");break;case"mouseout":J.removeClass(R,Q+"Over");break;case"click":case"touchstart":if(R===P.mapView){O.setMapType(C.MAP);O.refreshAds("StreetMapOn")}else{if(R===P.satelliteView){O.setMapType(C.HYB);O.refreshAds("SatelliteMapOn")}else{if(P.hybridCheckbox.checked){O.setMapType(C.HYB);O.refreshAds("HybridOn")}else{O.setMapType(C.SAT);O.refreshAds("HybridOff")}}}break}},dispose:function(){var Q=this.elements,P=Q.viewOptions,R=Q.mapView,O=Q.satelliteView,N=this._eDOM;L(R,"click",N);L(R,"mouseover",N);L(R,"mouseout",N);L(O,"click",N);L(O,"mouseover",N);L(O,"mouseout",N);L(Q.hybridCheckbox,"click",N);L(Q.hybridText,"click",N);if(P.parentNode){P.parentNode.removeChild(P)}},logOmniture:function(O,N){},refreshAds:function(N){if(this.refreshMyAds){this.refreshMyAds(N)}},getWidth:function(){return J.getDomWidth(this.elements.viewOptions)},getHeight:function(){return J.getDomHeight(this.elements.viewOptions)}});G.ViewOptions=F;G.ViewControl3=F;G.Loader._moduleLoaded("viewoptions")});